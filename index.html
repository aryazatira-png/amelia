<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amell Birthday Web</title>
  <link rel="stylesheet" href="style.css">
  <style>
    /* Efek hujan gambar */
    .rain-img {
      position: fixed;
      top: -100px;
      width: 50px;
      height: auto;
      animation: fall linear forwards;
      pointer-events: none;
      z-index: 9999;
    }
    @keyframes fall {
      to {
        transform: translateY(110vh);
        opacity: 0;
      }
    }

    /* Memory Game */
    .memory-game {
      width: 90%;
      max-width: 600px;
      margin: auto;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 15px;
      perspective: 1000px;
    }
    .memory-card {
      width: 100%;
      aspect-ratio: 3/4;
      position: relative;
      transform-style: preserve-3d;
      transition: transform 0.6s;
      cursor: pointer;
    }
    .memory-card.flip {
      transform: rotateY(180deg);
    }
    .front-face, .back-face {
      position: absolute;
      width: 100%;
      height: 100%;
      border-radius: 10px;
      backface-visibility: hidden;
      object-fit: cover;
      top: 0;
      left: 0;
    }
    .front-face { transform: rotateY(180deg); }
    .back-face { transform: rotateY(0deg); background: #ff69b4; }

    #nextBtnLayer4 {
      display: none;
      margin-top: 20px;
    }

    /* Lightbox */
    .lightbox {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: rgba(0,0,0,0.8);
      display: flex;
      justify-content: center;
      align-items: center;
      z-index: 10000;
    }
    .lightbox.hidden { display: none; }
    .lightbox-content {
      max-width: 90%;
      text-align: center;
    }
    .lightbox-content img {
      max-width: 100%;
      border-radius: 10px;
    }
    .lightbox-content p {
      color: #fff;
      margin-top: 10px;
    }
  </style>
</head>
<body>

  <!-- Splash Screen -->
  <div id="splash" class="layer active">
    <video autoplay muted loop class="bg-video">
      <source src="asset/splash.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>
    <h1 class="glow-text">gak bakalan ada yang ngucapin kayak gini except AING</h1>
    <button id="startBtn">GASKEUNN</button>
  </div>

  <!-- Layer 1 Umur -->
  <div id="layer1" class="layer">
    <video autoplay muted loop class="bg-video">
      <source src="asset/video2.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>
    <h2>Umur Acmelia Okta Ramadani</h2>
    <p id="umur"></p>
    <button onclick="prevLayer()">â¬… Back</button>
    <button onclick="nextLayer()">Next âž¡</button>
  </div>

  <!-- Layer 2 -->
  <div id="layer2" class="layer">
    <video autoplay muted loop class="bg-video">
      <source src="asset/video1.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>
    <h2 class="glow-text">HAPPY BIRTHDAY ACMELIA</h2>
    <p>Hari dimana bulan jadi punya saingan, eaaaa</p>
    <button onclick="prevLayer()">â¬… Back</button>
    <button onclick="nextLayer()">Next âž¡</button>
  </div>

  <!-- Layer 3 -->
  <div id="layer3" class="layer">
    <video autoplay muted loop class="bg-video">
      <source src="asset/video3.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>
    <h2>ABOUT YOU</h2>
    <div class="gallery">
      <img src="asset/foto1.jpeg" alt="Foto 1" onclick="openLightbox(this, 'Always be yourself! Dont change your happiness just because of other people')">
      <img src="asset/foto2.jpeg" alt="Foto 2" onclick="openLightbox(this, 'Web ini bakalan ABADI, ada penghitung real time di slide 2 dan akan bertambah terus sesuai umur amel!')">
      <img src="asset/foto3.jpeg" alt="Foto 3" onclick="openLightbox(this, 'Semoga amel always dapetin semuanya...')">
      <img src="asset/foto4.jpeg" alt="Foto 4" onclick="openLightbox(this, 'Inget! Terus improve and terus evaluasi...')">
    </div>
    <button onclick="prevLayer()">â¬… Back</button>
    <button onclick="nextLayer()">Next âž¡</button>
  </div>

  <!-- Layer 4 -->
  <div id="layer4" class="layer">
    <video autoplay muted loop class="bg-video">
      <source src="asset/video4.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>
    <h2 class="glow-text">COBA NYOCOKIN KARTU DULU!</h2>
    <div class="memory-game" id="memory-game">
      <!-- Cards (same as punya lu) -->
      <div class="memory-card" data-name="amel1">
        <img class="front-face" src="asset/amel1.jpeg" alt="amel1">
        <img class="back-face" src="asset/back.jpeg" alt="back">
      </div>
      <div class="memory-card" data-name="amel1">
        <img class="front-face" src="asset/amel1.jpeg" alt="amel1">
        <img class="back-face" src="asset/back.jpeg" alt="back">
      </div>
      <div class="memory-card" data-name="amel2">
        <img class="front-face" src="asset/amel2.jpeg" alt="amel2">
        <img class="back-face" src="asset/back.jpeg" alt="back">
      </div>
      <div class="memory-card" data-name="amel2">
        <img class="front-face" src="asset/amel2.jpeg" alt="amel2">
        <img class="back-face" src="asset/back.jpeg" alt="back">
      </div>
      <div class="memory-card" data-name="amel3">
        <img class="front-face" src="asset/amel3.jpeg" alt="amel3">
        <img class="back-face" src="asset/back.jpeg" alt="back">
      </div>
      <div class="memory-card" data-name="amel3">
        <img class="front-face" src="asset/amel3.jpeg" alt="amel3">
        <img class="back-face" src="asset/back.jpeg" alt="back">
      </div>
      <div class="memory-card" data-name="amel4">
        <img class="front-face" src="asset/amel4.jpeg" alt="amel4">
        <img class="back-face" src="asset/back.jpeg" alt="back">
      </div>
      <div class="memory-card" data-name="amel4">
        <img class="front-face" src="asset/amel4.jpeg" alt="amel4">
        <img class="back-face" src="asset/back.jpeg" alt="back">
      </div>
    </div>
    <button onclick="prevLayer()">â¬… Back</button>
    <button id="nextBtnLayer4" onclick="nextLayer()">PRETT</button>
  </div>

  <!-- Layer 5 -->
  <div id="layer5" class="layer">
    <video autoplay muted loop class="bg-video">
      <source src="asset/video5.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>
    <h2>POEMS ABOUT YOU</h2>
    <div class="gallery">
      <img src="asset/foto5.jpeg" alt="Foto 5" onclick="openLightbox(this, 'nyoba nulis di binder')">
      <img src="asset/foto6.jpeg" alt="Foto 6" onclick="openLightbox(this, 'Gua gak pernah naksir...')">
      <img src="asset/foto7.jpeg" alt="Foto 7" onclick="openLightbox(this, 'Emang untuk 2 puisi ini...')">
      <img src="asset/foto88.jpeg" alt="Foto 8" onclick="openLightbox(this, 'Ini sebelum gua ke bandung...')">
    </div>
    <button onclick="prevLayer()">â¬… Back</button>
    <button onclick="nextLayer()">Next âž¡</button>
  </div>

  <!-- Layer 6 -->
  <div id="layer6" class="layer">
    <video autoplay muted loop class="bg-video">
      <source src="asset/video6.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>
    <h2 class="glow-text">GIMANA RASANYA ...</h2>
    <p>btw backgroundny ucapan dari berbagai bahasa</p>
    <button onclick="prevLayer()">â¬… Back</button>
    <button onclick="startRain()">IDIOT</button>
    <button onclick="nextLayer()">Next âž¡</button>
  </div>

  <!-- Layer 7 -->
  <div id="layer7" class="layer">
    <video autoplay muted loop class="bg-video">
      <source src="asset/video7.mp4" type="video/mp4">
    </video>
    <div class="overlay"></div>
    <h2 class="glow-text">BACOTAN GK BERFAEDAHðŸ’«</h2>
    <p id="random-quote">Klik tombol di bawah buat kata-kata hari ini</p>
    <button onclick="prevLayer()">â¬… Back</button>
    <button onclick="randomQuote()">ðŸŽ² NYOCOT</button>
  </div>

  <!-- Lightbox -->
  <div id="lightbox" class="lightbox hidden" onclick="closeLightbox()">
    <div class="lightbox-content">
      <img id="lightbox-img" src="">
      <p id="lightbox-caption"></p>
    </div>
  </div>

  <audio id="bg-music" src="asset/musik.mp3" loop></audio>

  <!-- JS -->
  <script>
    let currentLayer = 0;
    const layers = document.querySelectorAll(".layer");

    function showLayer(n) {
      layers.forEach(l => l.classList.remove("active"));
      layers[n].classList.add("active");
      currentLayer = n;
      if (n === 4) initMemoryGame();
    }
    function nextLayer() { if (currentLayer < layers.length - 1) showLayer(currentLayer + 1); }
    function prevLayer() { if (currentLayer > 0) showLayer(currentLayer - 1); }

    document.getElementById("startBtn").addEventListener("click", () => {
      showLayer(1);
      document.getElementById("bg-music").play();
    });

    // Hitung Umur
    function updateUmur() {
      const lahir = new Date("2006-10-11T00:00:00");
      const sekarang = new Date();
      let tahun = sekarang.getFullYear() - lahir.getFullYear();
      let bulan = sekarang.getMonth() - lahir.getMonth();
      let hari = sekarang.getDate() - lahir.getDate();
      let jam = sekarang.getHours() - lahir.getHours();
      let menit = sekarang.getMinutes() - lahir.getMinutes();
      let detik = sekarang.getSeconds() - lahir.getSeconds();
      if (detik < 0) { detik += 60; menit--; }
      if (menit < 0) { menit += 60; jam--; }
      if (jam < 0) { jam += 24; hari--; }
      if (hari < 0) { const prevMonth = new Date(sekarang.getFullYear(), sekarang.getMonth(), 0); hari += prevMonth.getDate(); bulan--; }
      if (bulan < 0) { bulan += 12; tahun--; }
      document.getElementById("umur").textContent = `${tahun} tahun, ${bulan} bulan, ${hari} hari, ${jam} jam, ${menit} menit, ${detik} detik`;
    }
    setInterval(updateUmur, 1000); updateUmur();

    // Efek Hujan
    function startRain() {
      const container = document.body;
      for (let i = 0; i < 20; i++) {
        setTimeout(() => {
          let img = document.createElement("img");
          img.src = "asset/hujan.png";
          img.classList.add("rain-img");
          img.style.left = Math.random() * window.innerWidth + "px";
          img.style.animationDuration = (2 + Math.random() * 3) + "s";
          container.appendChild(img);
          setTimeout(() => img.remove(), 5000);
        }, i * 300);
      }
    }

    // Lightbox
    function openLightbox(img, caption) {
      document.getElementById("lightbox").classList.remove("hidden");
      document.getElementById("lightbox-img").src = img.src;
      document.getElementById("lightbox-caption").textContent = caption;
    }
    function closeLightbox() { document.getElementById("lightbox").classList.add("hidden"); }

    // Quotes
    const quotes = [
      "Jangan berhenti jadi diri sendiri âœ¨",
      "Hari buruk itu biasa, tapi lu tetep luar biasa ðŸ’«",
      "Semua hal besar dimulai dari langkah kecil ðŸš€",
      "Orang kuat bukan berarti gak nangis, tapi yang tetep maju ðŸŒ¹"
    ];
    function randomQuote() {
      const q = quotes[Math.floor(Math.random() * quotes.length)];
      document.getElementById("random-quote").textContent = q;
    }

    // Memory Game
    function initMemoryGame() {
      const cards = document.querySelectorAll(".memory-card");
      let hasFlippedCard = false, lockBoard = false, firstCard, secondCard, matchedCount = 0;
      cards.forEach(card => card.addEventListener("click", flipCard));
      shuffle();
      function flipCard() {
        if (lockBoard || this === firstCard) return;
        this.classList.add("flip");
        if (!hasFlippedCard) { hasFlippedCard = true; firstCard = this; return; }
        secondCard = this; checkForMatch();
      }
      function checkForMatch() {
        let isMatch = firstCard.dataset.name === secondCard.dataset.name;
        isMatch ? disableCards() : unflipCards();
      }
      function disableCards() {
        firstCard.removeEventListener("click", flipCard);
        secondCard.removeEventListener("click", flipCard);
        resetBoard(); matchedCount++;
        if (matchedCount === 4) document.getElementById("nextBtnLayer4").style.display = "inline-block";
      }
      function unflipCards() {
        lockBoard = true;
        setTimeout(() => { firstCard.classList.remove("flip"); secondCard.classList.remove("flip"); resetBoard(); }, 1000);
      }
      function resetBoard() { [hasFlippedCard, lockBoard] = [false, false]; [firstCard, secondCard] = [null, null]; }
      function shuffle() { cards.forEach(card => { card.style.order = Math.floor(Math.random() * 8); }); }
    }
  </script>
</body>
</html>